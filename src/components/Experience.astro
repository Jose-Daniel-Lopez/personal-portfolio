---
import ExperienceItem from "./ExperienceItem.astro";
import Briefcase from "./icons/Briefcase.astro";
const baseUrl = (import.meta.env && import.meta.env.BASE_URL) || "/";
const baseRoot = baseUrl === "/" ? "" : baseUrl.replace(/\/$/, "");
const EXPERIENCE = [
  {
    date: "Diciembre 2024 - Mayo 2025",
    title: "Desarrollador de Software & Database Management",
    company: "Náyora Cosmetics",
    description:
      "Optimización y formalización de procesos de gestión de datos. Implementación de soluciones para mejorar la eficiencia. Control y seguimiento de la calidad de los datos. Desarrollo de APIs RESTful con Express y scripts con Python.",
    link: `${baseRoot}/src/assets/cv/CV-Jose_Daniel_Lopez_Cabello.pdf`,
  },
  {
    date: "Marzo 2024 - Septiembre 2024",
    title: "Desarrollador de Software y RPA",
    company: "Viewnext S.A (IBM)",
    description:
      "Consumo de APIs RESTful y desarrollo de flujos de automatización. Integración de sistemas y aplicaciones empresariales. Uso de bases de datos SQL y NoSQL.",
    link: `${baseRoot}/src/assets/cv/CV-Jose_Daniel_Lopez_Cabello.pdf`,
  },
];
---

<!-- Terminal Window Top Bar -->
<div class="flex mb-2 items-center gap-1 w-fit select-none">
  <span class="w-3 h-3 rounded-full bg-red-500"></span>
  <span class="w-3 h-3 rounded-full bg-yellow-500"></span>
  <span class="w-3 h-3 rounded-full bg-green-500"></span>
</div>
<!-- ASCII Box for Experience -->
<div
  class="font-mono text-sm leading-tight max-w-4xl mx-auto p-4"
  style="--box-border-color: var(--background2); --box-border-width: 1px; background-color: var(--background1);"
>
  <div class="flex items-center gap-2 mb-4">
    <Briefcase class="size-6 block shrink-0" />
    <h2 is-="h3">Experiencia</h2>
  </div>
  <!-- Timeline -->
  <div class="relative">
    <div class="absolute inset-0"></div>
    {
      EXPERIENCE.map((exp) => (
        <div
          box-="square"
          class="relative mb-6 p-4 bg-[var(--background1)]"
          style="border-color: var(--box-border-color); border-width: var(--box-border-width);"
          aria-label={`Experience at ${exp.company}`}
        >
          <ExperienceItem {...exp} />
        </div>
      ))
    }
  </div>
</div>
<!-- Styles replaced by WebTUI components -->
