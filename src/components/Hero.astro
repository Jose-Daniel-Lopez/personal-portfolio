---
// === Constants & Assets ===
// Define accessible alt text for the personal image.
const personalImageAlt = "Jose Daniel";

// Import custom SVG icons for contact actions.
import LinkedIn from "./icons/LinkedIn.astro";
import Mail from "./icons/Mail.astro";
import Cv from "./icons/Cv.astro";
import Pin from "./icons/Pin.astro";
import GitHub from "./icons/GitHub.astro";

// === Base URL Handling ===
// Compute the root path for asset and link resolution.
// Ensures correct routing when deployed under a subpath (e.g., /jose-portfolio).
// Falls back to "/" if BASE_URL is undefined (e.g., during development).
const baseUrl = (import.meta.env && import.meta.env.BASE_URL) || "/";
// Remove trailing slash if present to avoid double slashes in paths.
const baseRoot = baseUrl === "/" ? "" : baseUrl.replace(/\/$/, "");
---

<!-- === Terminal Window Top Bar === --><!-- Visual indicator mimicking a macOS window header -->
<div class="flex mb-2 items-center gap-1 w-fit select-none" aria-hidden="true">
  <span class="w-3 h-3 rounded-full bg-red-500" title="Close"></span>
  <span class="w-3 h-3 rounded-full bg-yellow-500" title="Minimize"></span>
  <span class="w-3 h-3 rounded-full bg-green-500" title="Maximize"></span>
</div>

<!-- === Hero Section Container === -->
<!-- ASCII-style box with terminal aesthetic. Centered layout with responsive padding. -->
<div
  class="hero-container font-mono text-sm sm:text-base leading-tight max-w-4xl mx-auto p-4 sm:p-6 md:p-8 flex flex-col items-center text-center min-h-[50vh] justify-center"
  style="
    --box-border-color: var(--background2);
    --box-border-width: 1px;
    background-color: var(--background1);
  "
  role="banner"
  aria-label="Bienvenido: Jose Daniel - Desarrollador Web Full Stack"
>
  <!-- === Name and Job Title === -->
  <h1 class="text-lg sm:text-xl md:text-2xl font-bold text-green-400 mb-2 mt-4">
    <span class="nf nf-fa-user"></span>Jose Daniel
  </h1>
  <p class="text-cyan-300 mb-4 text-sm sm:text-base">
    <span class="nf nf-fa-code"></span>Desarrollador Web Full Stack
  </p>

  <!-- === Location and Status Info === -->
  <!-- Terminal-style metadata with icons and status indicators -->
  <div
    class="bg-transparent text-gray-400 text-sm leading-relaxed mb-4 space-y-2"
  >
    <!-- Location -->
    <div class="flex items-center justify-center gap-2">
      <Pin class="size-4 text-blue-400" />
      <span>Málaga, España</span>
    </div>

    <!-- Specialization Tag -->
    <div class="text-center px-4">
      <span class="text-yellow-400">⚡</span>
      <span class="text-xs sm:text-sm">Especialidad en Backend con Spring.</span
      >
    </div>

    <!-- Availability Badge -->
    <!-- Custom element attribute `is="badge"` likely handled by a UI library or script -->
    <span
      is-="badge"
      cap-="slant-bottom slant-top"
      tone-="success"
      size-="sm sm:lg"
      class="block text-center mt-3"
      aria-label="Disponible para nuevas oportunidades laborales"
    >
      Disponible para trabajar
    </span>
  </div>

  <!-- === Short Bio === -->
  <!-- Personal philosophy and background -->
  <p
    class="text-gray-300 leading-relaxed font-mono mb-4 text-sm sm:text-base px-2"
  >
    Empecé a programar con 15 años explorando motores de juego en C++; esa
    disciplina de bajo nivel guía hoy mi enfoque server-side: performance,
    seguridad y simplicidad operativa.
  </p>

  <!-- === Action Buttons (CLI-Style Commands) === -->
  <!-- Contact, CV, and LinkedIn links styled as terminal commands -->
  <div class="flex flex-wrap gap-2 sm:gap-3 mt-3 justify-center mb-4">
    <!-- Email Contact -->
    <a
      href="mailto:miduga@gmail.com"
      is-="button"
      tone-="info"
      size-="sm sm:md"
      aria-label="Enviar correo electrónico a Jose Daniel"
      class="inline-flex items-center gap-2 px-4 py-3 text-sm min-h-[44px] min-w-[44px]"
    >
      <Mail class="size-5 sm:size-6 block shrink-0" />
      <span class="hidden xs:inline">Contacto</span>
    </a>

    <!-- Download CV -->
    <a
      href={`${baseRoot}/cv/CV-JOSE_DANIEL_LOPEZ_CABELLO.pdf`}
      target="_blank"
      rel="noopener noreferrer"
      is-="button"
      tone-="info"
      size-="sm sm:md"
      aria-label="Descargar el currículum de Jose Daniel en PDF"
      class="inline-flex items-center gap-2 px-4 py-3 text-sm min-h-[44px] min-w-[44px]"
    >
      <Cv class="size-5 sm:size-6 block shrink-0" />
      <span class="hidden xs:inline">CV</span>
    </a>

    <a
      href="https://github.com/Jose-Daniel-Lopez"
      target="_blank"
      rel="noopener noreferrer"
      is-="button"
      tone-="primary"
      size-="sm sm:md"
      aria-label="Ver perfil de LinkedIn de Jose Daniel"
      class="inline-flex items-center gap-2 px-4 py-3 text-sm min-h-[44px] min-w-[44px]"
    >
      <GitHub class="size-5 sm:size-6 block shrink-0" />
      <span class="hidden xs:inline">GitHub</span>
    </a>

    <!-- LinkedIn Profile -->
    <a
      href="https://www.linkedin.com/in/jose-daniel-lópez-cabello/"
      target="_blank"
      rel="noopener noreferrer"
      is-="button"
      tone-="primary"
      size-="sm sm:md"
      aria-label="Ver perfil de LinkedIn de Jose Daniel"
      class="inline-flex items-center gap-2 px-4 py-3 text-sm min-h-[44px] min-w-[44px]"
    >
      <LinkedIn class="size-5 sm:size-6 block shrink-0" />
      <span class="hidden xs:inline">LinkedIn</span>
    </a>
  </div>
</div>

<!-- === Component Styles === -->
<!-- Scoped styles for layout, responsiveness, and accessibility -->
<style>
  /* Prevent horizontal overflow on narrow screens */
  .hero-container {
    overflow-x: hidden;
  }

  /* Ensure touch targets meet WCAG minimum (44x44px) on mobile */
  @media (max-width: 640px) {
    [is-="button"] {
      min-height: 44px;
      min-width: 44px;
    }
  }

  /* Enhanced focus visibility for keyboard navigation */
  [is-="button"]:focus-visible {
    outline: 2px solid var(--accent-color);
    outline-offset: 2px;
  }
</style>
